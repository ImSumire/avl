#include "./avl_tree.h"


void print_key(uint64_t key) {
    printf("%lu, ", key);
}

int main() {
    AvlTree* tree = avl_new();

    uint64_t keys[] = {
        988458310, 1871570712, 474596286, 4212684695, 2787965718, 908985157,
        600159176, 1658823970, 1866344339, 590686202, 2785368960, 2289046313,
        346138093, 2269644663, 1301317750, 27836269, 3597536477, 1881077197,
        2242657933, 3398773524, 2421891731, 1954709033, 1913853446, 4113779379,
        776122574, 1368152155, 3130442459, 1128387416, 55893592, 3183775864,
        310812063, 694395835, 1343089085, 3232838075, 3766042213, 1668639656,
        2974252045, 3345372735, 2202279677, 1778540363, 1399711416, 694445633,
        4023493383, 700770654, 2448413199, 3047167370, 3756742991, 1538039497,
        269109615, 2013646228, 220348345, 2754681671, 3254387536, 1262798675,
        1881118525, 2501453760, 900495851, 1787161990, 3585138647, 1286364991,
        2510754033, 3112132844, 134111170, 3735890470, 220871811, 4183390013,
        4175632421, 3660266966, 3716380829, 171847983, 1676821014, 2115043453,
        1866902065, 1862837752, 1189202681, 2380784529, 482595912, 2196570497,
        821982774, 583169921, 3018866155, 2983378135, 2995880875, 3727544234,
        3989803122, 864702919, 2353301336, 388318196, 1779648105, 1599897250,
        418598736, 1625124373, 1486043631, 2152825971, 756783255, 904704697,
        2453782913, 1508727480, 3829038029, 578163097, 2245093998, 3858252024,
        2558422905, 752511679, 841783785, 1665642844, 253947083, 4186508644,
        2535522715, 989612318, 2273449170, 690721721, 2849928898, 3178297471,
        1369920596, 1533886782, 3043111613, 2130488017, 3556441050, 1202475395,
        4196176878, 3912922837, 2932751090, 2822385662, 1354707939, 1419200483,
        126776233, 126776233
        // Allow duplications & remove an element that doesn't exist
    };

    for (int i = 0; i < 128; i++)
        avl_insert(tree, keys[i]);

    printf("In-order traversal: [");
    avl_iter(tree, print_key);
    printf("]\n\n");

    for (int i = 0; i < 64; i++)
        avl_remove(tree, keys[i]);

    printf("In-order traversal after some removal: [");
    avl_iter(tree, print_key);
    printf("]\n\n");

    for (int i = 63; i < 128; i++)
        avl_remove(tree, keys[i]);

    printf("In-order traversal after emptyed: [");
    avl_iter(tree, print_key);
    printf("]\n");

    avl_drop(tree);

    return 0;
}
